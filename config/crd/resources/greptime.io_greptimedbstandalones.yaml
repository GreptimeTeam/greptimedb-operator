---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  name: greptimedbstandalones.greptime.io
spec:
  group: greptime.io
  names:
    kind: GreptimeDBStandalone
    listKind: GreptimeDBStandaloneList
    plural: greptimedbstandalones
    shortNames:
    - gts
    singular: greptimedbstandalone
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.standalonePhase
      name: PHASE
      type: string
    - jsonPath: .status.version
      name: VERSION
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              base:
                properties:
                  activeDeadlineSeconds:
                    format: int64
                    type: integer
                  additionalContainers:
                    items:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0Container'
                    type: array
                  affinity:
                    $ref: '#/definitions/k8s.io~1api~1core~1v1~0Affinity'
                  annotations:
                    additionalProperties:
                      type: string
                    type: object
                  dnsPolicy:
                    $ref: '#/definitions/k8s.io~1api~1core~1v1~0DNSPolicy'
                  hostNetwork:
                    type: boolean
                  imagePullSecrets:
                    items:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0LocalObjectReference'
                    type: array
                  initContainers:
                    items:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0Container'
                    type: array
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                  main:
                    properties:
                      args:
                        items:
                          type: string
                        type: array
                      command:
                        items:
                          type: string
                        type: array
                      env:
                        items:
                          $ref: '#/definitions/k8s.io~1api~1core~1v1~0EnvVar'
                        type: array
                      image:
                        type: string
                      imagePullPolicy:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0PullPolicy'
                      lifecycle:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0Lifecycle'
                      livenessProbe:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0Probe'
                      readinessProbe:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0Probe'
                      resources:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0ResourceRequirements'
                      securityContext:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0SecurityContext'
                      startupProbe:
                        $ref: '#/definitions/k8s.io~1api~1core~1v1~0Probe'
                      volumeMounts:
                        items:
                          $ref: '#/definitions/k8s.io~1api~1core~1v1~0VolumeMount'
                        type: array
                      workingDir:
                        type: string
                    type: object
                  nodeSelector:
                    additionalProperties:
                      type: string
                    type: object
                  restartPolicy:
                    $ref: '#/definitions/k8s.io~1api~1core~1v1~0RestartPolicy'
                  schedulerName:
                    type: string
                  securityContext:
                    $ref: '#/definitions/k8s.io~1api~1core~1v1~0PodSecurityContext'
                  serviceAccountName:
                    type: string
                  terminationGracePeriodSeconds:
                    format: int64
                    type: integer
                  tolerations:
                    items:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0Toleration'
                    type: array
                  volumes:
                    items:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0Volume'
                    type: array
                type: object
              config:
                type: string
              datanodeStorage:
                properties:
                  dataHome:
                    type: string
                  fs:
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        type: object
                      mountPath:
                        type: string
                      name:
                        type: string
                      storageClassName:
                        type: string
                      storageRetainPolicy:
                        enum:
                        - Retain
                        - Delete
                        type: string
                      storageSize:
                        pattern: (^([+-]?[0-9.]+)([eEinumkKMGTP]*[-+]?[0-9]*)$)
                        type: string
                    type: object
                type: object
              httpPort:
                format: int32
                maximum: 65535
                minimum: 0
                type: integer
              initializer:
                properties:
                  image:
                    type: string
                type: object
              logging:
                properties:
                  filters:
                    items:
                      type: string
                    type: array
                  format:
                    enum:
                    - json
                    - text
                    type: string
                  level:
                    enum:
                    - info
                    - error
                    - warn
                    - debug
                    type: string
                  logsDir:
                    type: string
                  onlyLogToStdout:
                    type: boolean
                  persistentWithData:
                    type: boolean
                  slowQuery:
                    properties:
                      enabled:
                        type: boolean
                      sampleRatio:
                        pattern: ^(0?\.\d+|1(\.0+)?)$
                        type: string
                      threshold:
                        pattern: ^([0-9]+(\.[0-9]+)?(ns|us|Âµs|ms|s|m|h))+$
                        type: string
                    required:
                    - enabled
                    type: object
                type: object
              mysqlPort:
                format: int32
                maximum: 65535
                minimum: 0
                type: integer
              objectStorage:
                properties:
                  azblob:
                    properties:
                      container:
                        type: string
                      endpoint:
                        type: string
                      root:
                        type: string
                      secretName:
                        type: string
                    required:
                    - container
                    - root
                    type: object
                  cache:
                    properties:
                      cacheCapacity:
                        type: string
                      fs:
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          labels:
                            additionalProperties:
                              type: string
                            type: object
                          mountPath:
                            type: string
                          name:
                            type: string
                          storageClassName:
                            type: string
                          storageRetainPolicy:
                            enum:
                            - Retain
                            - Delete
                            type: string
                          storageSize:
                            pattern: (^([+-]?[0-9.]+)([eEinumkKMGTP]*[-+]?[0-9]*)$)
                            type: string
                        type: object
                    type: object
                  gcs:
                    properties:
                      bucket:
                        type: string
                      endpoint:
                        type: string
                      root:
                        type: string
                      scope:
                        type: string
                      secretName:
                        type: string
                    required:
                    - bucket
                    - root
                    type: object
                  oss:
                    properties:
                      bucket:
                        type: string
                      endpoint:
                        type: string
                      region:
                        type: string
                      root:
                        type: string
                      secretName:
                        type: string
                    required:
                    - bucket
                    - region
                    - root
                    type: object
                  s3:
                    properties:
                      bucket:
                        type: string
                      enableVirtualHostStyle:
                        type: boolean
                      endpoint:
                        type: string
                      region:
                        type: string
                      root:
                        type: string
                      secretName:
                        type: string
                    required:
                    - bucket
                    - region
                    - root
                    type: object
                type: object
              postgreSQLPort:
                format: int32
                maximum: 65535
                minimum: 0
                type: integer
              prometheusMonitor:
                properties:
                  enabled:
                    type: boolean
                  interval:
                    type: string
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                required:
                - enabled
                type: object
              rollingUpdate:
                properties:
                  maxUnavailable:
                    anyOf:
                    - type: integer
                    - type: string
                    x-kubernetes-int-or-string: true
                  partition:
                    format: int32
                    type: integer
                type: object
              rpcPort:
                format: int32
                maximum: 65535
                minimum: 0
                type: integer
              service:
                properties:
                  annotations:
                    additionalProperties:
                      type: string
                    type: object
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                  loadBalancerClass:
                    type: string
                  type:
                    $ref: '#/definitions/k8s.io~1api~1core~1v1~0ServiceType'
                type: object
              tls:
                properties:
                  secretName:
                    type: string
                required:
                - secretName
                type: object
              version:
                type: string
              wal:
                properties:
                  kafka:
                    properties:
                      brokerEndpoints:
                        items:
                          type: string
                        type: array
                    required:
                    - brokerEndpoints
                    type: object
                  raftEngine:
                    properties:
                      fs:
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          labels:
                            additionalProperties:
                              type: string
                            type: object
                          mountPath:
                            type: string
                          name:
                            type: string
                          storageClassName:
                            type: string
                          storageRetainPolicy:
                            enum:
                            - Retain
                            - Delete
                            type: string
                          storageSize:
                            pattern: (^([+-]?[0-9.]+)([eEinumkKMGTP]*[-+]?[0-9]*)$)
                            type: string
                        type: object
                    type: object
                type: object
            type: object
          status:
            properties:
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      format: date-time
                      type: string
                    lastUpdateTime:
                      format: date-time
                      type: string
                    message:
                      type: string
                    reason:
                      type: string
                    status:
                      $ref: '#/definitions/k8s.io~1api~1core~1v1~0ConditionStatus'
                    type:
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              observedGeneration:
                format: int64
                type: integer
              standalonePhase:
                type: string
              version:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
