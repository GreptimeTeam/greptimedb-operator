apiVersion: greptime.io/v1alpha1
kind: GreptimeDBCluster
metadata:
  name: e2e-cluster-basic
  namespace: default
spec:
  initializer:
    image: localhost:5001/greptime/greptimedb-initializer:latest
  base:
    main:
      image: localhost:5001/greptime/greptimedb:latest
  frontendGroup:
  - name: read
    replicas: 2
    httpPort: 4000
    mysqlPort: 4002
    postgreSQLPort: 4003
    rpcPort: 4001
    service:
      type: ClusterIP
  - name: write
    replicas: 2
    httpPort: 4000
    mysqlPort: 4002
    postgreSQLPort: 4003
    rpcPort: 4001
    service:
      type: ClusterIP
  meta:
    replicas: 1
    etcdEndpoints:
      - etcd.etcd-cluster:2379
  datanode:
    replicas: 3
